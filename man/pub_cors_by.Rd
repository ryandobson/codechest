% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cor_information.R
\name{pub_cors_by}
\alias{pub_cors_by}
\title{Publish-ready two-group correlation display (upper vs. lower triangle)}
\usage{
pub_cors_by(
  data,
  cor_vars,
  group_var,
  groups,
  rename_vec = NULL,
  rename_cols = TRUE,
  diag_from = "one",
  cor_use = "pairwise",
  rnd = 2
)
}
\arguments{
\item{data}{A data frame.}

\item{cor_vars}{Character vector of variable names to include in the
correlation matrices.}

\item{group_var}{Grouping variable; can be supplied bare (unquoted) or as a
string.}

\item{groups}{Length-2 character vector giving the two group values
(order matters: \code{groups[1]} → upper triangle, \code{groups[2]} → lower).}

\item{rename_vec}{Optional named character vector for renaming variables
(robust to old→new vs. new→old mapping); see \code{\link[=rename_rnd_cor]{rename_rnd_cor()}}.}

\item{rename_cols}{Logical; if \code{TRUE}, row names become
\code{"<original> (1..n)"} and column names become \code{"1..n"}.}

\item{diag_from}{How to fill the diagonal in the combined matrix; passed to
\code{\link[=combine_corr_triangles]{combine_corr_triangles()}} (default \code{"one"}).}

\item{cor_use}{Passed to \code{\link[stats:cor]{stats::cor()}} \code{use=} argument (e.g.,
\code{"pairwise"} or \code{"complete"}).}

\item{rnd}{Integer number of decimals to round to before combining.}
}
\value{
A matrix of class \code{"pub_cors_mat"} with attribute
\code{note = "Upper triangle = <g1>, Lower triangle = <g2>"}.
}
\description{
Splits a data frame by a grouping variable, computes correlations on a set of
variables for two specified groups, renames/rounds them consistently, and
combines them into a single matrix with group 1 in the upper triangle and
group 2 in the lower triangle.
}
\details{
Internally calls \code{compute_split_cors(data, cor_vars, group_var, groups,
cor_use)} (not exported here) to produce two correlation matrices. Each is
passed through \code{\link[=rename_rnd_cor]{rename_rnd_cor()}} with \code{rename_cols = FALSE} to ensure
consistent naming prior to \code{\link[=combine_corr_triangles]{combine_corr_triangles()}}.

The returned object has class \code{"pub_cors_mat"} and a \code{"note"}
attribute describing which group appears in the upper and lower triangles.
}
\examples{
# Toy example
set.seed(1)
df <- data.frame(
  grp = rep(c("Study 1","Study 2"), each = 50),
  A = rnorm(100), B = rnorm(100), C = rnorm(100)
)
pub_cors_by(
  data = df,
  cor_vars = c("A","B","C"),
  group_var = grp,
  groups = c("Study 1","Study 2"),
  rename_vec = c(A = "Alpha", B = "Beta", C = "Gamma"),
  rnd = 2
)

}
\seealso{
\code{\link[stats:cor]{stats::cor()}}, \code{\link[=rename_rnd_cor]{rename_rnd_cor()}}, \code{\link[=combine_corr_triangles]{combine_corr_triangles()}}
}
