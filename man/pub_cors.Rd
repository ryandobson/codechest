% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cor_information.R
\name{pub_cors}
\alias{pub_cors}
\title{Publish-Ready Correlation Table Combining Two Groups}
\usage{
pub_cors(
  df,
  cor_vars,
  group_var,
  groups,
  rename_vec,
  diag_from = "one",
  cor_use = "pairwise",
  rnd = 2
)
}
\arguments{
\item{df}{A data frame containing the variables of interest and the grouping variable.}

\item{cor_vars}{A character vector of variable names to include in the correlation analysis.}

\item{group_var}{The grouping variable, supplied as a bare name or a string. Must exist in \code{df}.}

\item{groups}{A character vector of length two giving the two levels of \code{group_var}
to split the data by (e.g., \code{c("male", "female")}).}

\item{rename_vec}{A named character vector mapping old variable names (names of the vector)
to new display names (values). Extra mappings not present in \code{cor_vars} are ignored.}

\item{diag_from}{How to fill the diagonal of the combined matrix. One of
\code{"upper"}, \code{"lower"}, \code{"average"}, \code{"one"}, or \code{"zero"}.
Defaults to \code{"one"}.}

\item{cor_use}{Character string passed to the \code{use} argument of \code{\link[stats:cor]{stats::cor()}}
(e.g., \code{"pairwise"}, \code{"complete.obs"}). Defaults to \code{"pairwise"}.}

\item{rnd}{Integer number of decimal places for rounding. Defaults to 2. Set to
\code{FALSE} or \code{NULL} to skip rounding.}
}
\value{
A square numeric matrix of class \code{c("pub_cors_mat", "matrix")}.
The strict upper triangle contains correlations from \code{groups[1]}, the strict
lower triangle from \code{groups[2]}, and the diagonal is set according to
\code{diag_from}. An attribute \code{attr(x, "note")} is added in the form
\dQuote{Upper triangle = \if{html}{\out{<group1>}}, Lower triangle = \if{html}{\out{<group2>}}}. Row names are
suffixed with indices \code{" (1)", " (2)", ...}, and column names are character
indices \code{"1","2",...}, mirroring \code{\link[=combine_corr_triangles]{combine_corr_triangles()}}.
}
\description{
Computes group-specific correlation matrices, renames variables, combines
them into a single matrix with one group's correlations in the strict upper
triangle and the other's in the strict lower triangle, and attaches a note
indicating which group is where. Optionally sets/derives the diagonal and
rounds values. The returned object has class \code{"pub_cors_mat"} for
convenient downstream printing/export.
}
\details{
Internally, this function:
\enumerate{
\item splits \code{df} by \code{group_var} and computes two correlation matrices via
\code{\link[=compute_split_cors]{compute_split_cors()}},
\item renames rows/columns using \code{\link[=rename_cor]{rename_cor()}} with \code{rename_vec} and \code{rnd},
\item merges triangles with \code{\link[=combine_corr_triangles]{combine_corr_triangles()}} using \code{diag_from},
\item tags the result with class \code{"pub_cors_mat"} and a descriptive \code{"note"} attribute.
}
}
\examples{
# Minimal reproducible example
df <- iris
cor_vars <- c("Sepal.Length","Sepal.Width","Petal.Length","Petal.Width")
groups <- c("setosa","versicolor")
rename_vec <- c(
  Sepal.Length = "Sepal Length",
  Sepal.Width  = "Sepal Width",
  Petal.Length = "Petal Length",
  Petal.Width  = "Petal Width"
)

tbl <- pub_cors(
  df, cor_vars,
  group_var = "Species",
  groups = groups,
  rename_vec = rename_vec,
  diag_from = "one",
  cor_use = "pairwise",
  rnd = 2
)
class(tbl)
attr(tbl, "note")

}
\seealso{
\code{\link[=compute_split_cors]{compute_split_cors()}}, \code{\link[=rename_cor]{rename_cor()}}, \code{\link[=combine_corr_triangles]{combine_corr_triangles()}}, \code{\link[stats:cor]{stats::cor()}}
}
