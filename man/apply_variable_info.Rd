% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/renaming.R
\name{apply_variable_info}
\alias{apply_variable_info}
\title{Apply variable labels and anchors to a data frame}
\usage{
apply_variable_info(df, variable_info, anchor_catalog)
}
\arguments{
\item{df}{A data frame containing the variables to be labelled.}

\item{variable_info}{A named list of metadata, where each element
corresponds to a variable in \code{df}. Each element should itself be a
list containing at least:
\describe{
\item{label}{A character string giving the descriptive label for the variable.}
\item{anchors}{(Optional) A character string naming which entry
of \code{anchor_catalog} to use for value labels. If \code{NULL} or
absent, only the variable label is applied.}
}}

\item{anchor_catalog}{A named list of anchor sets (value labels),
where each entry is a named vector suitable for the \code{labels}
argument of \code{haven::labelled()}. Names should correspond to the
possible \code{anchors} values in \code{variable_info}.}
}
\value{
A data frame with the same structure as \code{df} but with
variable labels (and value labels, if specified) applied using
\code{haven::labelled}.
}
\description{
This function iterates over a list of variable metadata and applies
descriptive labels and optional anchor value labels to matching
variables in a data frame. It is designed to work with
\code{haven::labelled()} so the resulting data frame is ready for
labelled-data workflows (e.g., exporting to SPSS/Stata or
value-labelled analysis in R).
}
\examples{

df <- data.frame(
  sex = c(1, 2, 1),
  age = c(23, 31, 27)
)

variable_info <- list(
  sex = list(
    label = "Participant sex",
    anchors = "sex"
  ),
  age = list(
    label = "Participant age"
  )
)

anchor_catalog <- list(
  sex = c("Male" = 1, "Female" = 2)
)

labelled_df <- apply_variable_info(df, variable_info, anchor_catalog)
str(labelled_df)

}
