% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_models.R
\name{run_models}
\alias{run_models}
\title{Fit a List of Models (lm or lmer) and Attach Results}
\usage{
run_models(model_list)
}
\arguments{
\item{model_list}{A list where each element describes one model. Each element
should contain:
\itemize{
\item \code{$name} (optional) Character; used only for messaging.
\item \code{$formula} A \code{formula} object to be fitted.
\item \code{$data} Character scalar; the name of a data.frame in the environment (retrieved via \code{get()}).
\item \code{$random_effects} Optional character vector; if \emph{absent or NULL}, \code{lm()} is used; otherwise \code{lmer()} is used.
}}
}
\value{
The input \code{model_list}, with fitted objects (\code{$mr}) and summaries (\code{$ms}) attached
for each model that was successfully fitted. Skipped entries are returned unchanged.
}
\description{
Iterates over a \code{model_list}, fitting either \code{\link[stats]{lm}} or
\code{\link[lme4]{lmer}} depending on whether random effects are specified.
Each successfully fitted entry is augmented with:
\itemize{
\item \code{$mr}: the fitted model object (\code{lm} or \code{lmerMod})
\item \code{$ms}: the model summary (\code{summary.lm} or \code{summary.merMod})
}
Entries without a valid \code{$formula} are skipped with a message.
}
\details{
The function treats the presence of \code{$random_effects} as a switch:
if it is \code{NULL}, the function calls \code{stats::lm()}; otherwise it calls \code{lme4::lmer()}.
The data frame is resolved as \code{get(model_list[[i]]$data)} in the calling environment.
}
\examples{
\dontrun{
# Assume df exists with y, x1, x2, id
ml <- list(
  fixed_only = list(
    name = "Fixed-only model",
    formula = y ~ x1 + x2,
    data = "df"  # name of data in environment
  ),
  mixed = list(
    name = "Mixed model",
    formula = y ~ x1 + (1 + x1 | id),
    data = "df",
    random_effects = c("1", "x1")
  )
)
out <- run_models(ml)
out$fixed_only$ms
out$mixed$ms
}

}
