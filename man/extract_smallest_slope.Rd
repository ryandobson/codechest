% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mlm_comparison.R
\name{extract_smallest_slope}
\alias{extract_smallest_slope}
\title{Extract the Random Slope with the Smallest Variance}
\usage{
extract_smallest_slope(lmer_fit, group)
}
\arguments{
\item{lmer_fit}{A fitted \code{lmerMod} object from \code{\link[lme4]{lmer}}.}

\item{group}{Character scalar giving the name of the grouping factor (the level
in \code{\link[lme4]{VarCorr}} to inspect).}
}
\value{
A named character vector of length 1. The value is the name of the smallest-variance
random slope; the name on that element is the (numeric) variance value coerced to a string.
}
\description{
Given a fitted \code{\link[lme4]{lmer}} model and a grouping factor, this
function inspects the random-effects variance components and returns the name
of the random \emph{slope} with the smallest variance. Models must be fit with
\strong{uncorrelated} random effects (i.e., using \code{||}); if correlated
random effects are detected, the function stops with an error.
}
\details{
The function:
\enumerate{
\item Retrieves the variance-covariance components via \code{\link[lme4]{VarCorr}}.
\item Requires an uncorrelated random-effects structure (uses \code{||} in the model).
\item Excludes the random intercept and compares variances of random slopes only.
\item Returns the slope with the smallest variance. If multiple are tied, the first is returned.
}
Two early-return cases are handled with warnings:
\itemize{
\item If only a random intercept is present, returns \code{"1"}.
\item If exactly one random slope and no intercept are present, returns that slope's name.
}
}
\examples{
\dontrun{
library(lme4)
fit <- lmer(y ~ x1 + (1 || id) + (0 + x1 || id), data = df)
extract_smallest_slope(fit, group = "id")
}

}
\seealso{
\code{\link{drop_smallest_term}}
}
