% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mlm_comparison.R
\name{drop_smallest_term}
\alias{drop_smallest_term}
\title{Drop the Smallest-Variance Random Slope from a Random-Effects Vector}
\usage{
drop_smallest_term(lmer_fit, group, random_effects, drop_intercept = FALSE)
}
\arguments{
\item{lmer_fit}{A fitted \code{lmerMod} object from \code{\link[lme4]{lmer}}.}

\item{group}{Character scalar giving the name of the grouping factor whose random
effects should be inspected.}

\item{random_effects}{Character vector of random-effects terms (e.g., \code{c("1","x1","x2")}).
The intercept, if present, should be represented as \code{"1"}.}

\item{drop_intercept}{Logical; if \code{TRUE}, also remove the intercept (\code{"1"})
from the returned vector.}
}
\value{
A character vector equal to \code{random_effects} with the smallest-variance
slope (and optionally the intercept) removed.
}
\description{
Removes the name of the random slope with the smallest variance from a supplied
character vector of random-effects terms (optionally also dropping the intercept).
This is a convenience wrapper around \code{\link{extract_smallest_slope}} for
iterative random-effects simplification.
}
\details{
The smallest-variance slope term is obtained via \code{\link{extract_smallest_slope}}
(which requires the model to be fit with \strong{uncorrelated} random effects, i.e., \code{||}).
That term is then removed from \code{random_effects}. If \code{drop_intercept = TRUE},
the intercept term \code{"1"} is also removed.
}
\examples{
\dontrun{
library(lme4)
fit <- lmer(y ~ x1 + x2 + (1 + x1 + x2 || id), data = df)
re_vec <- c("1", "x1", "x2")
drop_smallest_term(fit, group = "id", random_effects = re_vec)
drop_smallest_term(fit, group = "id", random_effects = re_vec, drop_intercept = TRUE)
}

}
\seealso{
\code{\link{extract_smallest_slope}}
}
