% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mlm_comparison.R
\name{append_step_mlm_comparison}
\alias{append_step_mlm_comparison}
\title{Append a Step to the Model-Comparison History}
\usage{
append_step_mlm_comparison(
  H,
  step,
  type,
  model1,
  model2 = NULL,
  random_from,
  random_to = NULL,
  dropped = NA_character_,
  mod_comp = NULL,
  kept = "",
  next_action = "",
  zero_pad = 2
)
}
\arguments{
\item{H}{A history list (typically from \code{\link{init_history}}).}

\item{step}{Integer step index (e.g., 0 for initial model).}

\item{type}{Character tag describing the step type. One of
\code{"initial_model"}, \code{"drop_smallest"}, \code{"ri_vs_fixed"},
\code{"add_covariances"}, \code{"final_model"}.}

\item{model1}{The primary (often more complex) fitted model object for the step.}

\item{model2}{The comparator fitted model object for the step (or \code{NULL}).}

\item{random_from}{Character vector of random-effects terms before the step.}

\item{random_to}{Character vector of random-effects terms after the step (or \code{NULL}).}

\item{dropped}{Character scalar; name of the random slope dropped on this step (if any).}

\item{mod_comp}{The model-comparison object (e.g., \code{anova(model1, model2)}) or \code{NULL}.}

\item{kept}{Character scalar indicating which model was retained at this step:
\code{"m1"}, \code{"m2"}, or \code{""} for non-comparison steps.}

\item{next_action}{Character scalar hint for the next step:
\code{"drop_smallest"}, \code{"add_covariances"}, \code{"ri_vs_fixed"}, or \code{"stop"}.}

\item{zero_pad}{Integer; number of digits for zero-padding the step name in the history.}
}
\value{
The updated history list \code{H} with a new named element. The name
is constructed as \code{stepXX_type} and optionally includes \code{"_drop_<term>"}.
}
\description{
Adds a named entry to a history list with metadata describing the action taken
during iterative random-effects model comparison.
}
\examples{
H <- init_history()
H <- append_step_mlm_comparison(H, step = 0, type = "initial_model",
                 model1 = NULL, random_from = "1")
names(H)

}
\keyword{internal}
